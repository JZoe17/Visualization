<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://d3js.org/d3.v4.js"></script>
  


    <title>The 8 Visual Variables</title>
</head>
<body>

    <header>
        <div class="container">
            <div class="row">
                <!-- <div class="col-md-2"> -->
                <!-- <img src="resources/d3logo.png"> -->
                <!-- </div> -->


                <div class="col-md-14">
                    <h1 class="logo">The 8 Visual Variables</h1>
                    <h4> Babyboom Dataset Visualization </h4>
                    <div class="btn-group btn-group-md" role="group" aria-label="...">
                        <a href="index.html" class="btn btn-default" role="button">Home</a>
                        <a href="index.html" class="btn btn-default" role="button">1 Chapter</a>
                        <a href="index.html" class="btn btn-default" role="button">2 Chapter</a>
                        <a href="index.html" class="btn btn-default" role="button">3 Chapter</a>
                        <a href="Chapter4.html" class="btn btn-default" role="button">4 Chapter</a>
                        <a href="index.html" class="btn btn-default" role="button">5 Chapter</a>
                        <a href="index.html" class="btn btn-default" role="button">6 Chapter</a>
                        <a href="index.html" class="btn btn-default" role="button">Appendix</a>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <br>

    <div class="container">
        <div class="row">
            <div class="btn-group">
                <button onclick="changeData('IRIS')">IRIS-Dataset</button>
                <button onclick="changeData('TOYS')">Toy-Dataset</button>
                <button onclick="changeData('BABY')">Babyboomer</button>
            </div>
        </div>
    </div>

    <style>
        body {
            text-align: center;
            padding-top: 25px;
        }

        h4 {
            padding-bottom: 10px;
        }

        .container {
            display: flex;
            align-items: center;
            justify-content: center
        }

        img {
            max-width: 100%
        }

        .image {
            flex-basis: 40%
        }

        .text {
            font-size: 20px;
            padding-left: 20px;
        }
    </style>



    <!-- Initialize a select button -->
    <div class="container">
        <div class="row">
            <div class="image">

                <!-- <h2>Column 1</h2>
            <p>Some text..</p> -->
                <div id="my_dataviz"></div>
            </div>

            <div class="text">
                <h5> <b> 1. Position </b> </h5>
                <!--  <p>1. Position</p>-->
                <p>
                    X Variable
                </p>
                <!-- <div class="btn-group btn-group-toggle" data-toggle="buttons">

            <!--   <select id="selectButton1"></select> -->
                <!--    <div id="Radio_withD3_1"></div>

            </div> -->
                <form id="Radio_withD3_1" class="btn-group btn-group-toggle" data-toggle="buttons">
                </form>



                Scale
                <!-- <select id="selectButton3"></select> -->

                <form id="Radio_withD3_x_log" class="btn-group btn-group-toggle" data-toggle="buttons">
                </form>


                <p>
                    Y Variable

                    <!--  <select id="selectButton2"></select> -->
                </p>
                <form id="Radio_withD3_2" class="btn-group btn-group-toggle" data-toggle="buttons">
                </form>
                Scale
                <form id="Radio_withD3_y_log" class="btn-group btn-group-toggle" data-toggle="buttons">
                </form>
                <!-- <p> <select id="ButtonMark"></select> </p>-->

                <h5>  <b> 2. Size </b> </h5>
                <p>
                    <!--     <select id="ButtonSize"></select>-->
                    <div id="Radio_withD3_5"></div>
                </p>


                <h5>  <b> 3. Color </b> </h5>
                <p>
                    <!--     <select id="ButtonSize"></select>-->
                    <div id="Radio_withD3_6"></div>
                </p>

                <h5>  <b> 4. Brightness </b> </h5>
                <p>
                    <!--   <select id="ButtonOpacity"></select>-->
                    <div id="Radio_withD3_7"></div>
                </p>

                <h5> <b> 5. Orientation </b> </h5>
                <!-- <p> <select id="ButtonColor"></select> </p>-->
                <div id="Radio_withD3_8"></div>

                <h5> <b> 6. Mark </b> </h5>
                <!-- <p> <select id="ButtonOrient"></select> </p>-->
                <div id="Radio_withD3_9"></div>
                <h5> <b> 7. Texture </b> </h5>
                <!-- <p> <select id="ButtonTexture"></select> </p>-->
                <div id="Radio_withD3_10"></div>
                <h5> <b> 8. Motion </b> </h5>
                <!-- <p> <select id="ButtonAnimation"></select> </p>-->
                <div id="Radio_withD3_11"></div>
            </div>
        </div>
    </div>


        <div class="container">
            <div class="row">

                <a href="babyboom.html" target="_blank" rel="noopener noreferrer" class="btn btn-default" role="button">Background Info Babyboom Dataset</a>

            </div>
        </div>


        <!-- Color Scale -->
        <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
        <!-- Include Textures -->
        <script src="https://unpkg.com/textures@1.2.0/dist/textures.js"></script>

        <svg id="demoCustomCircle" width="100" height="100"></svg>



        <script>



            //choose the data
            // set the dimensions and margins of the graph
            var margin = { top: 50, right: 50, bottom: 60, left: 50 },
                width = 660 - margin.left - margin.right,
                height = 400 - margin.top - margin.bottom;

            // append the svg object to the body of the page
            var svg = d3.select("#my_dataviz")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform",
                    "translate(" + margin.left + "," + margin.top + ")");


            var button1 = d3
                .select("#selectButton1")
                .selectAll('myOptions')

            // Creating radio buttons

            var shapeData = ["Triangle", "Circle", "Square", "Rectangle"],
                // Choose the rectangle as default
                j = 0;
            // Create the shape selectors



            var theRadio = d3.select("#Radio_withD3_1")
            var theRadio2 = d3.select("#Radio_withD3_2")
            var theRadio3 = d3.select("#Radio_withD3_x_log")
            var theRadio4 = d3.select("#Radio_withD3_y_log")
            var theRadio5 = d3.select("#Radio_withD3_5")
            var theRadio6 = d3.select("#Radio_withD3_6")
            var theRadio7 = d3.select("#Radio_withD3_7")
            var theRadio8 = d3.select("#Radio_withD3_8")
            var theRadio9 = d3.select("#Radio_withD3_9")
            var theRadio10 = d3.select("#Radio_withD3_10")
            var theRadio11 = d3.select("#Radio_withD3_11")






            dataIni = "data/iris.csv";
            readData(dataIni)


            //var form1 = d3v3.select("#Radio_withD3_1").append("form");


            function changeData(datasets) {
                // buttons.exit().remove();






                /* d3.select("#selectButton1").selectAll('myOptions').remove() */

                dataNew = null;
                var buttonR;

                if (datasets == 'IRIS') {
                    dataNew = "data/iris.csv";
                    buttonR = "B1";
                    //remove all of the labels
                    removeLabels();
                }
                if (datasets == 'TOYS') {
                    dataNew = "data/iris.csv";
                    buttonR = "B2";
                    removeLabels();
                }
                if (datasets == 'BABY') {
                    dataNew = "data/babies.csv";
                    buttonR = "B3";
                    removeLabels();
                }
                console.log(dataNew)

                readData(dataNew)

                function removeLabels() {
                    theRadio
                        .selectAll("label")
                        .remove()
                    theRadio2
                        .selectAll("label")
                        .remove()
                    theRadio3
                        .selectAll("label")
                        .remove()
                    theRadio4
                        .selectAll("label")
                        .remove()
                    theRadio5
                        .selectAll("label")
                        .remove()
                    theRadio6
                        .selectAll("label")
                        .remove()
                    theRadio7
                        .selectAll("label")
                        .remove()
                    theRadio8
                        .selectAll("label")
                        .remove()
                    theRadio9
                        .selectAll("label")
                        .remove()
                    theRadio10
                        .selectAll("label")
                        .remove()
                    theRadio11
                        .selectAll("label")
                        .remove()



                    svg
                        .selectAll("circle")
                        .remove()
                }

            }

            function readData(dataS) {
                //Read the data
                d3.csv(dataS, function (data) {

                    svg.exit().remove()



                    console.log(data);
                    allGroup = d3.keys(data[0]);
                    console.log(allGroup)
                    var allScales = [{ "linear": 0, "logarithmic": 1 }];
                    var Scales = d3.keys(allScales[0]);
                    var allSizes = d3.keys(data[0]);
                    var initial = [{ "-----": 5 }];
                    var initialK = d3.keys(initial[0]);
                    var catData = ["Gender"];
                    var Orient = ["no", "yes"];
                    //var sizeV = d3.merge(sizeC, data)
                    //var allSize = d3.keys(sizeV[0])
                    console.log(allSizes)
                    allSizes.unshift("-----");
                    catData.unshift("-----");



                    //  setterBu(theRadio, allGroup, "radios");

                    theRadio
                        .selectAll()
                        .data(allGroup)
                        .enter()
                        .append("label")
                        .attr("class", function (d, i) { if (i === j) { return "btn btn-default active"; } else { return "btn btn-default" } })
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios")
                        .attr("autocomplete", "off")
                        .property("checked", function (d, i) { return i === j; })

                    theRadio2
                        .selectAll()
                        .data(allGroup)
                        .enter()
                        .append("label")
                        .attr("class", function (d, i) { if (i === j) { return "btn btn-default active"; } else { return "btn btn-default" } })
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios2")
                        .attr("autocomplete", "off")
                        .property("checked", function (d, i) { return i === j; })

                    theRadio3
                        .selectAll()
                        .data(Scales)
                        .enter()
                        .append("label")
                        .attr("class", function (d, i) { if (i === j) { return "btn btn-default active"; } else { return "btn btn-default" } })
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios3")
                        .property("checked", function (d, i) { return i === j; })
                    theRadio4
                        .selectAll()
                        .data(Scales)
                        .enter()
                        .append("label")
                        .attr("class", function (d, i) { if (i === j) { return "btn btn-default active"; } else { return "btn btn-default" } })
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios4")
                        .attr("autocomplete", "off")
                        .property("checked", function (d, i) { return i === j; })
                    theRadio5
                        .selectAll()
                        .data(allSizes)
                        .enter()
                        .append("label")
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios5")
                        .property("checked", function (d, i) { return i === j; })
                    theRadio6
                        .selectAll()
                        .data(allSizes)
                        .enter()
                        .append("label")
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios6")
                        .property("checked", function (d, i) { return i === j; })
                    theRadio7
                        .selectAll()
                        .data(allSizes)
                        .enter()
                        .append("label")
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios7")
                        .property("checked", function (d, i) { return i === j; })
                    theRadio8
                        .selectAll()
                        .data(allSizes)
                        .enter()
                        .append("label")
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios8")
                        .property("checked", function (d, i) { return i === j; })
                    theRadio9
                        .selectAll()
                        .data(allSizes)
                        .enter()
                        .append("label")
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios9")
                        .property("checked", function (d, i) { return i === j; })
                    theRadio10
                        .selectAll()
                        .data(allSizes)
                        .enter()
                        .append("label")
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios10")
                        .property("checked", function (d, i) { return i === j; })

                    theRadio11
                        .selectAll()
                        .data(catData)
                        .enter()
                        .append("label")
                        .text(function (d) { return d; })
                        .append("input")
                        .attr("type", "radio")
                        .attr("value", function (d, i) { return d; })
                        .attr("name", "radios11")
                        .property("checked", function (d, i) { return i === j; })



                    //console.log(sizeC);
                    //console.log(sizeV);
                    console.log(initial)

                    // Shape scale: give a specie, it gives a shape

                    button1
                        .data(data)
                        .enter()
                        .append('option')


                    function setterBu(RadioNu, dataRa, radioNu) {
                        p = 0;
                        RadioNu
                            .selectAll()
                            .data(dataRa)
                            .enter()
                            .append("label")
                            .attr("class", function (d, i) { if (i === p) { return "btn btn-default active"; } else { return "btn btn-default" } })
                            .text(function (d) { return d; })
                            .append("input")
                            .attr("type", "radio")
                            .attr("value", function (d, i) { return d; })
                            .attr("name", radioNu)
                            .attr("autocomplete", "off")
                            .property("checked", function (d, i) { return i === p; })

                    }

                    // List of groups (here I have one group per column)


                    // add the options to the button




                    // Initialise a X axis:
                    var x = d3.scaleLinear().range([0, width]);
                    var xAxis = d3.axisBottom().scale(x);
                    svg.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .attr("class", "myXaxis")

                    // Initialize an Y axis
                    var y = d3.scaleLinear().range([height, 0]);
                    var yAxis = d3.axisLeft().scale(y);
                    svg.append("g")
                        .attr("class", "myYaxis")

                    // Initialize Text
                    var text = svg.append("g").attr("class", "bar_label").selectAll("text")
                        .data(data)
                        .enter().append("text")
                        .attr("id", "text_label1")
                        .attr("font-family", "sans-serif")
                        .attr("font-size", "22px")
                        .attr("fill", "black")
                        .style("opacity", "0.4")
                        .attr("text-anchor", "middle");

                    var text2 = svg.append("g").attr("class", "bar_label").selectAll("text")
                        .data(data)
                        .enter().append("text")
                        .attr("id", "text_label2")
                        .attr("font-family", "sans-serif")
                        .attr("font-size", "22px")
                        .attr("fill", "black")
                        .style("opacity", "0.4")
                        .attr("text-anchor", "end");





                    // Initialize dots with group a
                    dot = svg
                        .selectAll('circle')
                        .data(data)
                        .enter()
                        .append('circle')
                        .attr("r", 7)
                        /*.style("opacity", "0.6") */
                        .attr("stroke", "grey")


                    //Custom Semi Circle, accurate center and size
                    var customShapeCircle = {
                        draw: function (context, size) {
                            let r = Math.sqrt(2 * size / Math.PI);
                            let orgin = (4 * r) / (3 * Math.PI); //the orgin of the circle, not of the symbol
                            context.arc(0, -orgin, r, Math.PI, 2 * Math.PI, true);
                            context.closePath();
                        }
                    }

                    var customCircle = d3.symbol().type(customShapeCircle);
                    var semi = svg
                        .append('g')
                        .selectAll('dot')
                        .data(data)
                        .enter()
                        .append("path")
                        .attr("d", customCircle)

                    /*
                    var markers = svg
                        .append('g')
                        .selectAll("dot")
                        .data(data)
                        .enter()
                        .append("path")
                        .attr("d", d3.symbol())
                        */

                    /* var markers = svg.append("g")
                         .attr("stroke-width", 1.5)
                         .attr("font-family", "sans-serif")
                         .attr("font-size", 10)
                         .selectAll("path")b
                         .data(data)
                         .join("path")
                         */

                    var markers = svg.append('g')
                        .selectAll("dot")
                        .data(data)
                        .enter()
                        .append("path")

                    var l = textures.lines().size(4)
                        .strokeWidth(1).background("violet");

                    var c = textures.circles().size(4)
                        .strokeWidth(1).background("violet");








                    svg.call(l);
                    svg.call(c);


                    /*
                     d3.select("#selectButton3")
                        .selectAll('myOptions')
                        .data(Scales)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button

                    d3.select("#selectButton4")
                        .selectAll('myOptions')
                        .data(Scales)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button

                    d3.select("#ButtonSize")
                        .selectAll('myOptions')
                        .data(allSizes)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button

                    d3.select("#ButtonMark")
                        .selectAll('myOptions')
                        .data(catData)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button

                    d3.select("#ButtonColor")
                        .selectAll('myOptions')
                        .data(allSizes)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button

                    d3.select("#ButtonOpacity")
                        .selectAll('myOptions')
                        .data(allSizes)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button

                    d3.select("#ButtonOrient")
                        .selectAll('myOptions')
                        .data(allSizes)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button
                    d3.select("#ButtonTexture")
                        .selectAll('myOptions')
                        .data(catData)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button

                    d3.select("#ButtonAnimation")
                        .selectAll('myOptions')
                        .data(catData)
                        .enter()
                        .append('option')
                        .text(function (d) { return d; }) // text showed in the menu
                        .attr("value", function (d) { return d; }) // corresponding value returned by the button
                        */





                    function update(selectedGroup1, selectedGroup2, ax1, ax2, sizeCir, colorC, opaciB, orientaB, markB, textureC, animationB) {

                        select1 = selectedGroup1;
                        select2 = selectedGroup2;
                        select3 = ax1;
                        select4 = ax2;
                        select5 = sizeCir;
                        select6 = colorC;
                        select7 = opaciB;
                        select8 = orientaB;
                        select9 = markB;
                        select10 = textureC;
                        select11 = animationB;

                        // Create new data with the selection?
                        var dataFilter = data.map(function (d) { return { Yaxi: d[selectedGroup2], Xaxi: d[selectedGroup1], vals: d[ax1], vals2: d[ax2], sizeCi: d[sizeCir], colorB: d[colorC], opaC: d[opaciB], orieB: d[orientaB], marks: d[markB], texC: d[textureC], anime: d[animationB] } })
                        var Xmax = d3.max(dataFilter, function (d) { return +d.Xaxi })
                        var Ymax = d3.max(dataFilter, function (d) { return +d.Yaxi })
                        var Xmin = d3.min(dataFilter, function (d) { return +d.Xaxi })
                        var Ymin = d3.min(dataFilter, function (d) { return +d.Yaxi })
                        var Zmin = d3.min(dataFilter, function (d) { return +d.sizeCi })
                        var Zmax = d3.max(dataFilter, function (d) { return +d.sizeCi })
                        var Cmin = d3.min(dataFilter, function (d) { return +d.colorB })
                        var Cmax = d3.max(dataFilter, function (d) { return +d.colorB })
                        var Omin = d3.min(dataFilter, function (d) { return +d.opaC })
                        var Omax = d3.max(dataFilter, function (d) { return +d.opaC })
                        var Ormin = d3.min(dataFilter, function (d) { return +d.orieB })
                        var Ormax = d3.max(dataFilter, function (d) { return +d.orieB })
                        var Armin = d3.min(dataFilter, function (d) { return +d.anime })
                        var Armax = d3.max(dataFilter, function (d) { return +d.anime })

                        console.log(Xmax)
                        console.log(Ymax)


                        var shape = d3.scaleOrdinal()
                            .domain(["1", "2"])
                            .range([d3.symbolTriangle, d3.symbolSquare])

                        var textu = d3.scaleOrdinal()
                            .domain(["1", "2"])
                            .range([l.url(), c.url()])

                        var an = d3.scaleLinear()
                            .domain([Armin, Armax])
                            .range([1, 10])

                        // updating the x,y axis range
                        //x axis
                        console.log(dataFilter);
                        console.log(selectedGroup1);

                        console.log(Xmax);
                        console.log(Ymax);

                        if (ax1 == "logarithmic") {
                            var x = d3.scaleLog().range([0, width]);
                            x.domain([Xmin, Xmax]);
                            var xAxis = d3.axisBottom().scale(x);
                            svg.append("g")
                                .attr("transform", "translate(0," + height + ")")
                                .attr("class", "myXaxis")
                            svg.selectAll(".myXaxis").transition()
                                .duration(1000)
                                .call(xAxis);
                        }
                        else {
                            var x = d3.scaleLinear().range([0, width]);
                            x.domain([Xmin, Xmax]);
                            var xAxis = d3.axisBottom().scale(x);
                            svg.append("g")
                                .attr("transform", "translate(0," + height + ")")
                                .attr("class", "myXaxis")
                            svg.selectAll(".myXaxis").transition()
                                .duration(1000)
                                .call(xAxis);
                        }

                        svg.select("#text_label1")
                            .data(data)
                            .transition()
                            .duration(1000)
                            .attr("x", width / 2)
                            .attr("y", height + 0.8 * margin.bottom)
                            .style("text-anchor", "middle")
                            .text(selectedGroup1);

                        console.log(selectedGroup1);

                        console.log(ax2);


                        /*  d3.select("#selectButton2")
                              .selectAll('myOptions')
                              .data(allGroup)
                              .enter()
                              .append('option')
                              .text(function (d) { return d; }) // text showed in the menu
                              .attr("value", function (d) { return d; }) // corresponding value returned by the button
                              */




                        if (ax2 == "logarithmic") {
                            // create the Y axis
                            var y = d3.scaleLog().range([height, 0]);
                            y.domain([Ymin, Ymax]);
                            var yAxis = d3.axisLeft().scale(y);
                            svg.append("g")
                                .attr("class", "myYaxis")
                            svg.selectAll(".myYaxis")
                                .transition()
                                .duration(1000)
                                .call(yAxis);
                        } else {
                            var y = d3.scaleLinear().range([height, 0]);
                            y.domain([Ymin, Ymax]);
                            var yAxis = d3.axisLeft().scale(y);
                            svg.append("g")
                                .attr("class", "myYaxis")
                            svg.selectAll(".myYaxis")
                                .transition()
                                .duration(1000)
                                .call(yAxis);

                        }


                        /*svg.append("text_label2")
                            .attr("y", 6)
                            .attr("dy", ".75em")
                            .attr("transform", "rotate(-90)")
                            .text(selectedGroup2);*/


                        svg.select("#text_label2")
                            .data(data)
                            .transition()
                            .duration(1000)
                            .attr("transform", "rotate(-90)")
                            .attr("y", 0 - 1.1 * margin.left)
                            .attr("x", 0 - (height / 2))
                            .attr("dy", "1em")
                            .style("text-anchor", "middle")
                            .text(selectedGroup2);


                        var z = d3.scaleLinear()
                            .domain([Zmin, Zmax])
                            .range([10, 30]);

                        var m = d3.scaleLinear()
                            .domain([Zmin, Zmax])
                            .range([5, 50]);

                        console.log(Zmin, Zmax)

                        // Add a scale for bubble color
                        /* var myColor = d3.scaleLinear()
                             .domain([(Cmin/Cmax),(Cmax/Cmax)])
                             .range(d3.interpolateRainbow);
                         */
                        var myColor = d3.scaleSequential()
                            .interpolator(d3.interpolateWarm)
                            .domain([Cmin, Cmax]);

                        var myOpacity = d3.scaleLinear()
                            .domain([Omin, Omax])
                            .range([0.3, 1]);

                        var myOrientation = d3.scaleLinear()
                            .domain([Ormin, Ormax])
                            .range([0, 270])



                        console.log(markB)



                        if (sizeCir == "-----") {

                            dot
                                .data(dataFilter)
                                .transition()
                                .duration(1000)
                                .attr("cx", function (d) { return x(+d.Xaxi) })
                                .attr("cy", function (d) { return y(+d.Yaxi) })
                                .attr("r", 10)
                            console.log(animationB)





                            if (colorC == "-----") {
                                dot
                                    .style("fill", "violet")

                                if (textureC == "-----") {

                                }
                                else {
                                    dot
                                        .style("fill", function (d) { return textu(+d.texC); })
                                }
                            }
                            else {
                                if (textureC == "-----") {

                                }
                                else {

                                    dot
                                        .style("fill", function (d) { return textu(+d.texC); })
                                        .style("stroke", function (d) { return myColor(+d.colorB); })


                                }

                            }




                            if (opaciB == "-----") {
                                dot
                                    .style("opacity", "1")
                            }
                            else {
                                dot
                                    .style("opacity", function (d) { return myOpacity(+d.opaC); })
                            }

                            if (animationB == "-----") {

                            }
                            else {
                                dot
                                    .data(dataFilter)
                                    .transition()
                                    .duration(150)
                                    .on("start", function repeat() {
                                        d3.active(this)
                                            .attr("cx", function (d) { return x(+d.Xaxi) + an(+d.anime) })
                                            .transition()
                                            .attr("cx", function (d) { return x(+d.Xaxi) - an(+d.anime) })
                                            .transition()
                                            .on("start", repeat);
                                    })
                            }





                        } else {

                            if (animationB == "-----") {
                                dot
                                    .data(dataFilter)
                                    .transition()
                                    .duration(1000)
                                    .attr("cx", function (d) { return x(+d.Xaxi) })
                                    .attr("cy", function (d) { return y(+d.Yaxi) })
                                    .attr("r", function (d) { return z(+d.sizeCi) })
                                if (colorC == "-----") {
                                    dot
                                        .style("fill", "violet")
                                }
                                else {
                                    dot
                                        .style("fill", function (d) { return myColor(+d.colorB); })
                                }

                                if (opaciB == "-----") {
                                    dot
                                        .style("opacity", "1")
                                }
                                else {
                                    dot
                                        .style("opacity", function (d) { return myOpacity(+d.opaC); })
                                }

                            }
                            else {
                                dot
                                    .data(dataFilter)
                                    .transition()
                                    .duration(150)
                                    .on("start", function repeat() {
                                        d3.active(this)
                                            .attr("cx", function (d) { return x(+d.Xaxi) + an(+d.anime) })
                                            .attr("r", function (d) { return z(+d.sizeCi) })
                                            .transition()
                                            .attr("cx", function (d) { return x(+d.Xaxi) - an(+d.anime) })
                                            .attr("r", function (d) { return z(+d.sizeCi) })
                                            .transition()
                                            .on("start", repeat);
                                    })

                                if (colorC == "-----") {
                                    dot
                                        .style("fill", "violet")
                                }
                                else {
                                    dot
                                        .style("fill", function (d) { return myColor(+d.colorB); })
                                }

                                if (opaciB == "-----") {
                                    dot
                                        .style("opacity", "1")
                                }
                                else {
                                    dot
                                        .style("opacity", function (d) { return myOpacity(+d.opaC); })
                                }



                            }









                        }







                        /* if (colorC == "-----")
                         {
                             dot
                             .style("fill", "blue")
                         }
                         */

                        console.log(orientaB);

                        if (orientaB == "-----") {
                            svg.exit().remove();

                            semi
                                .data(dataFilter)
                                .transition()
                                .duration(50)
                                .style("fill", "white")
                                .style("opacity", 0)
                        }
                        else {
                            svg.exit().remove();
                            dot
                                .style("fill", "white")
                                .style("opacity", 0)

                            markers
                                .data(dataFilter)
                                .transition()
                                .duration(50)
                                .style("fill", "white")
                                .style("opacity", 0)

                            semi
                                .data(dataFilter)
                                .transition()
                                .duration(1000)
                                .attr("transform", function (d) { return "translate(" + x(d.Xaxi) + "," + y(d.Yaxi) + ") rotate(" + myOrientation(d.orieB) + ")"; })
                            if (opaciB == "-----") {
                                semi
                                    .style("opacity", "0.8")
                                    .attr("stroke", "grey")
                            }
                            else {
                                semi
                                    .style("opacity", function (d) { return myOpacity(+d.opaC); })
                                    .attr("stroke", "grey")
                            }
                            if (colorC == "-----") {
                                semi
                                    .style("fill", "violet")
                                    .attr("stroke", "grey")
                            }
                            else {
                                semi
                                    .style("fill", function (d) { return myColor(+d.colorB); })
                                    .attr("stroke", "grey")
                            }
                            //.attr("transform", "rotate(-60)")
                            if (sizeCir == "-----") {
                                semi
                                    .attr("d", customCircle.size(250))
                            }
                            else {
                                semi
                                    .attr("d", customCircle.size(function (d) { return 25 * z(+d.sizeCi); }))
                            }
                            if (animationB == "-----") {

                            }
                            else {
                                semi
                                    .data(dataFilter)
                                    .transition()
                                    .duration(150)
                                    .on("start", function repeat() {
                                        d3.active(this)
                                            .attr("transform", function (d) { return "translate(" + x(d.Xaxi) + an(+d.anime) + "," + y(d.Yaxi) + ") rotate(" + myOrientation(d.orieB) + ")"; })
                                            .transition()
                                            .attr("transform", function (d) { return "translate(" + x(d.Xaxi) - an(+d.anime) + "," + y(d.Yaxi) + ") rotate(" + myOrientation(d.orieB) + ")"; })
                                            .transition()
                                            .on("start", repeat);
                                    })
                            }

                        }



                        if (markB == "-----") {
                            svg.exit().remove();

                            markers
                                .data(dataFilter)
                                .transition()
                                .duration(50)
                                .attr("d", d3.symbol()
                                    .size(120)
                                    .type(function (d) { return shape(d.marks) })
                                )
                                .style("fill", "white")
                                .style("opacity", 0)

                        }
                        else {
                            svg.exit().remove();
                            dot
                                .style("fill", "white")
                                .style("opacity", 0)

                            semi
                                .data(dataFilter)
                                .transition()
                                .duration(50)
                                .style("fill", "white")
                                .style("opacity", 0)


                            // Add dots

                            markers
                                .data(dataFilter)
                                .transition()
                                .duration(500)
                            if (sizeCir == "-----") {
                                markers
                                    .attr("d", d3.symbol()
                                        .size(180).type(function (d) { return shape(d.marks); }))
                                    .attr("transform", function (d) { return "translate(" + x(d.Xaxi) + "," + y(d.Yaxi) + ")"; })

                            }
                            else {
                                markers
                                    .attr("d", d3.symbol()
                                        .size(function (d) { return 50 * m(+d.sizeCi); }).type(function (d) { return shape(d.marks); }))
                                    //.size(300).type(function (d) { return shape(d.marks); }))
                                    .attr("transform", function (d) { return "translate(" + x(d.Xaxi) + "," + y(d.Yaxi) + ")"; })

                            }

                            if (opaciB == "-----") {
                                markers
                                    .style("opacity", "0.8")
                                    .attr("stroke", "grey")
                            }
                            else {
                                markers
                                    .style("opacity", function (d) { return myOpacity(+d.opaC); })
                                    .attr("stroke", "grey")
                            }
                            if (colorC == "-----") {
                                markers
                                    .style("fill", "violet")
                                    .attr("stroke", "grey")
                            }
                            else {
                                markers
                                    .style("fill", function (d) { return myColor(+d.colorB); })
                                    .attr("stroke", "grey")
                            }

                            if (animationB == "-----") {

                            }
                            else {
                                marker
                                    .data(dataFilter)
                                    .transition()
                                    .duration(150)
                                    .on("start", function repeat() {
                                        d3.active(this)
                                            .attr("transform", function (d) { return "translate(" + x(d.Xaxi) + an(+d.anime) + "," + y(d.Yaxi) + ")"; })
                                            .transition()
                                            .attr("transform", function (d) { return "translate(" + x(d.Xaxi) - an(+d.anime) + "," + y(d.Yaxi) + ")"; })
                                            .transition()
                                            .on("start", repeat);
                                    })
                            }
                            //.attr("transform", "rotate(-60)")
                            /*console.log(animationB)
                            if (animationB == "-----") {
                                markers
                                .attr("stroke", "grey")
                            }
                            else
                            {
                                dot
                                .on("start", function repeat() {
                                    d3.active(this)
                                        .attr("cx", width)
                                        .transition()
                                        .attr("cx", 0)
                                        .transition()
                                        .on("start", repeat);
                                })
                                */
                            /*  function downwards() {
                              markers
                                  .transition()
                                  .duration(1000)
                                  .attr("transform", function (d) { return "translate(" + 10 + "," + 10 + ")"; })
                                  // .delay(500)
                                  //.on("end", upwards)
                              }
                              */

                            /*  function upwards() {
                                  d3.select("#ButtonAnimation").on("change", function (d) {
                                      change = d3.select(this).property("value")
                                      if (change == '-----') {
                                          ending()
                                      }
                                      */
                            // })





                        }










                    }

                    // run the updateChart function with this selected option
                    //var sel1 = d3.select("#Radio_withD3_1").property("value")
                    //var sel2 = d3.select("#selectButton2").property("value")

                    // current values
                    //X
                    ele = document.getElementsByName('radios');
                    for (i = 0; i < ele.length; i++) {
                        if (ele[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select1 = ele[i].value
                    }

                    ele2 = document.getElementsByName('radios2');
                    for (i = 0; i < ele.length; i++) {
                        if (ele2[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select2 = ele2[i].value
                    }

                    ele3 = document.getElementsByName('radios3');
                    for (i = 0; i < ele3.length; i++) {
                        if (ele3[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select3 = ele3[i].value
                    }

                    ele4 = document.getElementsByName('radios4');
                    for (i = 0; i < ele4.length; i++) {
                        if (ele4[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select4 = ele4[i].value
                    }

                    ele5 = document.getElementsByName('radios5');
                    for (i = 0; i < ele5.length; i++) {
                        if (ele5[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select5 = ele5[i].value
                    }
                    ele6 = document.getElementsByName('radios6');
                    for (i = 0; i < ele6.length; i++) {
                        if (ele6[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select6 = ele6[i].value
                    }
                    ele7 = document.getElementsByName('radios7');
                    for (i = 0; i < ele7.length; i++) {
                        if (ele7[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select7 = ele7[i].value
                    }
                    ele8 = document.getElementsByName('radios8');
                    for (i = 0; i < ele8.length; i++) {
                        if (ele8[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select8 = ele8[i].value
                    }
                    ele9 = document.getElementsByName('radios9');
                    for (i = 0; i < ele9.length; i++) {
                        if (ele9[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select9 = ele9[i].value
                    }
                    ele10 = document.getElementsByName('radios10');
                    for (i = 0; i < ele10.length; i++) {
                        if (ele10[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select10 = ele10[i].value
                    }
                    ele11 = document.getElementsByName('radios11');
                    for (i = 0; i < ele11.length; i++) {
                        if (ele11[i].checked)
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;
                            select11 = ele11[i].value
                    }

                    // var sel3 = d3.select("#selectButton3").property("value")
                    //  var sel4 = d3.select("#selectButton4").property("value")
                    /* var sel5 = d3.select("#ButtonSize").property("value")
                     var sel6 = d3.select("#ButtonColor").property("value")
                     var sel7 = d3.select("#ButtonOpacity").property("value")
                     var sel8 = d3.select("#ButtonOrient").property("value")
                     var sel9 = d3.select("#ButtonMark").property("value")
                     var sel10 = d3.select("#ButtonTexture").property("value")
                     var sel11 = d3.select("#ButtonAnimation").property("value") */

                    d3.select("#Radio_withD3_1").on("change", function (d) {
                        // recover the option that has been chosen
                        ele = document.getElementsByName('radios');
                        for (i = 0; i < ele.length; i++) {
                            if (ele[i].checked) {
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select1 = ele[i].value
                                posNu = i;
                                updaterBu(theRadio, posNu, allGroup, "radios");
                                console.log(select1)                                    // run the updateChart function with this selected option
                                update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)
                            }
                        }

                    })

                    // When the button is changed, run the updateChart function
                    d3.select("#Radio_withD3_2").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele2 = document.getElementsByName('radios2');
                        for (i = 0; i < ele2.length; i++) {
                            if (ele2[i].checked) {
                                select2 = ele2[i].value
                                posNu = i;
                                updaterBu(theRadio2, posNu, allGroup, "radios2");
                                console.log(select2)
                                update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)


                            }
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;

                        }

                    })

                    d3.select("#Radio_withD3_x_log").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele3 = document.getElementsByName('radios3');
                        for (i = 0; i < ele3.length; i++) {
                            if (ele3[i].checked) {
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                posNu = i;
                                select3 = ele3[i].value
                                console.log(select3)
                                updaterBu(theRadio3, posNu, Scales, "radios3");

                                // run the updateChart function with this selected option
                                update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                            }
                        }

                    })

                    d3.select("#Radio_withD3_y_log").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele4 = document.getElementsByName('radios4');
                        for (i = 0; i < ele4.length; i++) {
                            if (ele4[i].checked) {
                                posNu = i;
                                select4 = ele4[i].value
                                console.log(select4)
                                updaterBu(theRadio4, posNu, Scales, "radios4");

                                // run the updateChart function with this selected option
                                update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                            }
                            // document.getElementById("Radio_withD3").innerHTML
                            //  = "Gender: "+ele[i].value;

                        }

                    })
                    d3.select("#Radio_withD3_5").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele5 = document.getElementsByName('radios5');
                        for (i = 0; i < ele5.length; i++) {
                            if (ele5[i].checked)
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select5 = ele5[i].value
                        }
                        console.log(select5)
                        // run the updateChart function with this selected option
                        update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                    })
                    d3.select("#Radio_withD3_6").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele6 = document.getElementsByName('radios6');
                        for (i = 0; i < ele6.length; i++) {
                            if (ele6[i].checked)
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select6 = ele6[i].value
                        }
                        console.log(select6)
                        // run the updateChart function with this selected option
                        update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                    })
                    d3.select("#Radio_withD3_7").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele7 = document.getElementsByName('radios7');
                        for (i = 0; i < ele7.length; i++) {
                            if (ele7[i].checked)
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select7 = ele7[i].value
                        }
                        console.log(select7)
                        // run the updateChart function with this selected option
                        update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                    })
                    d3.select("#Radio_withD3_8").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele8 = document.getElementsByName('radios8');
                        for (i = 0; i < ele8.length; i++) {
                            if (ele8[i].checked)
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select8 = ele8[i].value
                        }
                        console.log(select8)
                        // run the updateChart function with this selected option
                        update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                    })
                    d3.select("#Radio_withD3_9").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele9 = document.getElementsByName('radios9');
                        for (i = 0; i < ele9.length; i++) {
                            if (ele9[i].checked)
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select9 = ele9[i].value
                        }
                        console.log(select9)
                        // run the updateChart function with this selected option
                        update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                    })
                    d3.select("#Radio_withD3_10").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele10 = document.getElementsByName('radios10');
                        for (i = 0; i < ele10.length; i++) {
                            if (ele10[i].checked)
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select10 = ele10[i].value
                        }
                        console.log(select10)
                        // run the updateChart function with this selected option
                        update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                    })
                    d3.select("#Radio_withD3_11").on("change", function (d) {
                        // recover the option that has been chosen
                        //select2 = d3.select(this).property("value")
                        ele11 = document.getElementsByName('radios11');
                        for (i = 0; i < ele11.length; i++) {
                            if (ele11[i].checked) {
                                // document.getElementById("Radio_withD3").innerHTML
                                //  = "Gender: "+ele[i].value;
                                select11 = ele11[i].value

                            }
                        }
                        console.log(select11)


                        update(select1, select2, select3, select4, select5, select6, select7, select8, select9, select10, select11)

                    })
                    /* d3.select("#Radio_withD3_4").on("change", function (d) {
                         // recover the option that has been chosen
                         //select2 = d3.select(this).property("value")
                         ele5 = document.getElementsByName('radios5');
                         for (i = 0; i < ele5.length; i++) {
                             if (ele5[i].checked)
                                 // document.getElementById("Radio_withD3").innerHTML
                                 //  = "Gender: "+ele[i].value;
                                 select5 = ele5[i].value
                         }
                         console.log(select5)
                         // run the updateChart function with this selected option
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)

                     })
                     /*d3.select("#selectButton3").on("change", function (d) {
                         // recover the option that has been chosen
                         sel3 = d3.select(this).property("value")
                         // run the updateChart function with this selected option
                         update(select1, select2, sel3, sel4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     /*
                     d3.select("#selectButton4").on("change", function (d) {
                         // recover the option that has been chosen
                         sel4 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     d3.select("#ButtonSize").on("change", function (d) {
                         // recover the option that has been chosen
                         sel5 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     d3.select("#ButtonColor").on("change", function (d) {
                         // recover the option that has been chosen
                         sel6 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     d3.select("#ButtonOpacity").on("change", function (d) {
                         // recover the option that has been chosen
                         sel7 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     d3.select("#ButtonOrient").on("change", function (d) {
                         // recover the option that has been chosen
                         sel8 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     d3.select("#ButtonMark").on("change", function (d) {
                         // recover the option that has been chosen
                         sel9 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     d3.select("#ButtonTexture").on("change", function (d) {
                         // recover the option that has been chosen
                         sel10 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })

                     d3.select("#ButtonAnimation").on("change", function (d) {
                         // recover the option that has been chosen
                         sel11 = d3.select(this).property("value")
                         update(select1, select2, select3, select4, sel5, sel6, sel7, sel8, sel9, sel10, sel11)
                     })
                     */


                    function updaterBu(RadioNu, posNu, dataNu, nameR) {
                        RadioNu.selectAll("label")
                            .remove()

                        j = posNu;
                        RadioNu
                            .selectAll()
                            .data(dataNu)
                            .enter()
                            .append("label")
                            .attr("class", function (d, i) { if (i === j) { return "btn btn-default active"; } else { return "btn btn-default" } })
                            .text(function (d) { return d; })
                            .append("input")
                            .attr("type", "radio")
                            .attr("value", function (d, i) { return d; })
                            .attr("name", nameR)
                            .attr("autocomplete", "off")
                            .property("checked", function (d, i) { return i === j; })

                    }
                    console.log(catData[0])
                    update(allGroup[0], allGroup[0], Scales[0], Scales[0], allSizes[0], allSizes[0], allSizes[0], allSizes[0], catData[0], catData[0], catData[0])


                })


            }

            /* b1.exit().remove();
             */
                                                                                                                                                                                                                                                                            // d3.select("#selectButton1").selectAll('myOptions').remove()
                                                                                                                                                                                                                                                                            // d3.select(data).remove()





        </script>

</html>