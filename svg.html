<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script type="text/javascript" src="d3/d3.v3.js"></script>
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <title>Visualization Examples</title>
</head>
<body>

<header>
    <div class="container">
        <div class="row">
           <!-- <div class="col-md-2"> -->            
<!-- <img src="resources/d3logo.png"> -->                
<!-- </div> -->  
            <div class="col-sm-10">
                <h1 class="logo">Visualization Examples</h1>
                <h4> ZoÃ« </h4>
                <div class="btn-group btn-group-md" role="group" aria-label="...">
                    <a href="index.html" class="btn btn-default" role="button">Home</a>
                    <a href="svg.html" class="btn btn-default" role="button">1 Chapter</a>
                    <a href="barChart.html" class="btn btn-default" role="button">2 Chapter</a>
                    <a href="pieChart.html" class="btn btn-default" role="button">3 Chapter</a>
                    <a href="bubbleChart.html" class="btn btn-default" role="button">4 Chapter</a>
                    <a href="force.html" class="btn btn-default" role="button">5 Chapter</a>
                    <a href="globe.html" class="btn btn-default" role="button">6 Chapter</a>
                    <a href="http://www.d3js.org" class="btn btn-default" role="button">Appendix</a>
                </div>
            </div>
        </div>
    </div>
</header>



<div class="container">
    <h3>The Eight Visual Variables </h3>

    <div class="col-sm-6">
        <div id="magic"></div>
        <div id="draw_here"></div>
        <div id="buttons_here"></div>
        <div id="my_dataviz"></div>

    </div>

    <div class="col-sm-6">
        <h4>(1) Position</h4>
        <p> (a) Selection of Variables </p>
        <p> X-Axis </p>
        <div id="button_x"></div>
        <p> Y-Axis </p>
        <div id="button_y"></div>
        <p> (b) Scaling </p>
        <!-- Add 2 buttons -->
        <div id="button_linlog"></div>
        

        <svg id="buttons_2" width="400px" height="200px"></svg>
        <input type="range" name="slider" id=slider min="2" max="40" value="10">
 <!--        
<pre>
    var w = 500;
    var h = 100;

    data1 = [50, 60, 70, 30, 20, 10];
    data2 = [30, 80, 20, 40];
    dataIndex = 1;
    
    var colors = d3.scale.category10();

    //Create SVG element
    var svg = d3.select("#draw_here")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

    svg.selectAll("circle")
            .data(data1)
            .enter()
            .append("circle")
            .attr("cx", function (d, i) {
                return 75 + (i * 80);
            })
            .attr("cy", h / 2)
            .attr("r", function (d, i) {
                return d;
            })
            .attr("fill", function(d, i) {
                return colors(i);
            })
            .attr("opacity", "0.5");

    d3.select("#buttons_here").append("button")
            .text("change data")
            .on("click",function(){
                if (dataIndex==1) {
                    dataIndex=2;  
                } else   {
                    dataIndex=1;
                }
                var circle = svg.selectAll("circle")
                    .data(eval("data"+dataIndex));

                circle.exit().remove();//remove unneeded circles
                    circle.enter().append("circle")
                        .attr("r",0);//create any new circles needed

                circle.transition()
                        .duration(500)
                        .attr("cx", function (d, i) {
                            return 75 + (i * 80);
                        })
                        .attr("cy", h / 2)
                        .attr("r", function (d, i) {
                            return d;
                        })
                        .attr("fill", function(d, i) {
                            return colors(i);
                        });

            });//end click function
</pre>
-->  

    
</div>


<script>

    // append the svg object to the body of the page
var svg = d3.select("#magic")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

//Read the data
d3.csv("/data/babies.csv", function(data) {
        console.log(data);
    });
  // Add X axis
  var x = d3.scaleLinear()
    .domain([3, 9])
    .range([ 0, width ]);
  var xAxis = svg.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(x));

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 9])
    .range([ height, 0]);
  svg.append("g")
    .call(d3.axisLeft(y));

  // Add dots
  svg.append('g')
    .selectAll("dot")
    .data(data)
    .enter()
    .append("circle")
        .attr("cx", function (d) { return x(d.Weight); } )
        .attr("cy", function (d) { return y(d.Gender); } )
        .attr("r", 5)
        .style("fill", "#69b3a2" )


    var w = 500;
    var h = 200;
    var position = [50, 150, 250, 350]

    data1 = [[0, 50], [1, 60], [2, 70], [3, 30], [4, 20], [5, 10]];
    data2 = [[0, 30], [1, 80], [2, 20], [3, 40]];
    selectedData = data1;

    var colors = d3.scale.category10();

    //Create SVG element
    var svg = d3.select("#draw_here")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

    draw_circles();


    d3.select("#button_x").append("button")
        .text("Variable 1")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function

        d3.select("#button_x").append("button")
        .text("Variable 2")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function

        d3.select("#button_x").append("button")
        .text("Variable 3")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function

      
        d3.select("#button_y").append("button")
        .text("Variable 1")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function    

        d3.select("#button_y").append("button")
        .text("Variable 2")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function   

        d3.select("#button_y").append("button")
        .text("Variable 3")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function 

     
        d3.select("#button_linlog").append("button")
        .text("Linear Scale")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function  
        
        d3.select("#button_linlog").append("button")
        .text("Logarithmic Scale")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function  



    d3.select("#buttons_here").append("button")
        .text("change data")
        .on("click",function(){
            if (selectedData==data1) {
                selectedData=data2;  
            } else   {
                selectedData=data1;
            }
            draw_circles();
        });//end click function


    d3.select("#buttons_here").append("button")
        .text("shuffle data")
        .on("click",function(){
            selectedData = shuffle(selectedData);
            draw_circles();
        });//end click function


    function shuffle(array) {
        var currentIndex = array.length, temporaryValue, randomIndex;

        // While there remain elements to shuffle...
        while (0 !== currentIndex) {

            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;

            // And swap it with the current element.
            temporaryValue = array[currentIndex];
            array[currentIndex] = array[randomIndex];
            array[randomIndex] = temporaryValue;
        }

        return array;
    }


    function draw_circles() {
        var circle = svg.selectAll("circle")
                    .data(selectedData);

                circle.exit().remove();//remove unneeded circles
                circle.enter().append("circle")
                    .attr("r",0);//create any new circles needed

                circle.transition()
                        .duration(500)
                        .attr("cx", function (d, i) {
                            return 75 + (i * 80);
                        })
                        .attr("cy", h / 2)
                        .attr("r", function (d, i) {
                            return d[1];
                        })
                        .attr("fill", function(d, i) {
                            return colors(d[0]);
                        })
                        .attr("opacity", "0.5");
;
    }

    var theCircles = d3.select("#buttons_2")
  .selectAll("mycircles")
  .data(position)
  .enter()
  .append("circle")
    .attr("cx", function(d){return d} )
    .attr("cy", 100)
    .attr("r", 10)

// Function that change a color
function changeSize(size) {
  theCircles
    .attr('r',size)
}

// Listen to the slider?
d3.select("#slider").on("change", function(d){
  selectedValue = this.value
  changeSize(selectedValue)
})


</script>


 

</body>
</html>
